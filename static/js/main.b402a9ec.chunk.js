(this.webpackJsonpswitter=this.webpackJsonpswitter||[]).push([[0],{106:function(n,e,t){"use strict";t.r(e);var r=t(8),a=t.n(r),c=t(64),i=t.n(c),o=t(15),s=t(19),l=t(39),u=t(17),d=t(1),p=t.n(d),b=t(2),j=t(5),f=t(33),x=t(40);t(77),t(108),t(107);x.a.initializeApp({apiKey:"AIzaSyCcb6LsTQlAFVHdXeRxCdEtlKi-rK0xTOI",authDomain:"nwitter-d58bf.firebaseapp.com",projectId:"nwitter-d58bf",storageBucket:"nwitter-d58bf.appspot.com",messagingSenderId:"154796609265",appId:"1:154796609265:web:53a166a5b7713f66dc6350"});var m,h,O=x.a,g=x.a.auth(),w=x.a.firestore(),v=x.a.storage(),y=t(20),k=t(7),N=y.b.div(m||(m=Object(s.a)(["\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n    .authInput {\n        max-width: 320px;\n        width: 100%;\n        padding: 10px;\n        border-radius: 30px;\n        background-color: rgba(255, 255, 255, 1);\n        margin-bottom: 10px;\n        font-size: 12px;\n        color: black; \n        &:placeholder {\n            color: white;\n            opacity: 0.9;\n        }\n    }\n    .authSubmit {\n        text-align: center;\n        background: #04aaff;\n        color: white;\n        margin-top: 10;\n        cursor: pointer;\n    }\n    .authError {\n        color: tomato;\n        text-align: center;\n        font-weight: 500;\n        font-size: 12px;\n    }\n    .authSwitch {\n        color: #04aaff;\n        cursor: pointer;\n        margin-top: 10px;\n        margin-bottom: 50px;\n        display: block;\n        font-size: 12px;\n        text-decoration: underline;\n        text-align: center;\n    }\n"]))),I=function(){var n=Object(r.useState)({email:"",password:""}),e=Object(o.a)(n,2),t=e[0],a=e[1],c=t.email,i=t.password,s=Object(r.useState)(!0),l=Object(o.a)(s,2),u=l[0],d=l[1],x=Object(r.useState)(""),m=Object(o.a)(x,2),h=m[0],O=m[1],w=function(n){var e=n.target,r=e.value,c=e.name;a(Object(f.a)(Object(f.a)({},t),{},Object(j.a)({},c,r)))},v=function(){var n=Object(b.a)(p.a.mark((function n(e){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),n.prev=1,!u){n.next=8;break}return n.next=5,g.createUserWithEmailAndPassword(c,i);case 5:n.sent,n.next=11;break;case 8:return n.next=10,g.signInWithEmailAndPassword(c,i);case 10:n.sent;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),O(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsxs)(N,{children:[Object(k.jsxs)("form",{onSubmit:v,children:[Object(k.jsx)("input",{type:"email",name:"email",placeholder:"email",required:!0,value:c,onChange:w,className:"authInput"}),Object(k.jsx)("input",{type:"password",name:"password",placeholder:"password",required:!0,value:i,onChange:w,className:"authInput"}),Object(k.jsx)("input",{type:"submit",value:u?"Create Account":"Log In",className:"authInput authSubmit"}),h&&Object(k.jsx)("span",{className:"authError",children:h})]}),Object(k.jsx)("span",{onClick:function(){d(!u)},className:"authSwitch",children:u?"Sign In":"Create Account"})]})},S=t(68),C=t.n(S);t(99).config();var F,D,_,B,A,z,P,U=y.b.section(h||(h=Object(s.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 4rem;\n    margin-top: 2rem;\n    .covid_text {\n        color: tomato;\n    }\n"]))),R=function(){var n=Object(r.useState)({}),e=Object(o.a)(n,2),t=e[0],a=e[1],c=function(){var n=Object(b.a)(p.a.mark((function n(){var e,t,r,c,i,o,s,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Date,t=e.getFullYear(),r=e.getMonth()+1,c=e.getDate(),i=t+(r<10?"0".concat(r):r)+(c<10?"0".concat(c):c),"IQhkuFiGabvNTxqLDRI10389idVPncpW5JlCtJT0i%2FYxnZNZk5BilniC1dZW0lPHIVYK31utYRS4HRDrarpGiw%3D%3D",o="/openapi/service/rest/Covid19/getCovid19InfStateJson?serviceKey=".concat("IQhkuFiGabvNTxqLDRI10389idVPncpW5JlCtJT0i%2FYxnZNZk5BilniC1dZW0lPHIVYK31utYRS4HRDrarpGiw%3D%3D","&startCreateDt=").concat(i,"&endCreateDt=").concat(i),n.next=9,C.a.get(o);case 9:s=n.sent,l=s.data.response.body,a(l.items.item);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){c()}),[]);var i=t.decideCnt,s=t.deathCnt;return Object(k.jsxs)(U,{children:[Object(k.jsxs)("h3",{children:[Object(k.jsx)("span",{className:"covid_text",children:"COVID-19"})," \ud604\uc7ac \uc0c1\ud669"]}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsxs)("span",{children:["\ub204\uc801\ud655\uc9c4\uc790: ",i,"\uba85"]})}),Object(k.jsx)("li",{children:Object(k.jsxs)("span",{children:["\uc0ac\ub9dd\uc790: ",s,"\uba85"]})})]})]})},E=t(32),L=t(69),G=y.b.div(F||(F=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    .icon_twitter {\n        margin-bottom: 3rem;\n        color: #04AAFF;\n    }\n    .authBtns {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        max-width: 320px;\n        .authBtn {\n            cursor: pointer;\n            border-radius: 20px;\n            border: none;\n            padding: 10px 0px;\n            font-size: 12px;\n            text-align: center;\n            width: 150px;\n            background: white;\n            cursor: pointer; \n            svg {\n                margin-bottom: -2px;\n            }\n        }\n    }\n"]))),W=function(){var n=function(){var n=Object(b.a)(p.a.mark((function n(e){var t,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"google"===(t=e.target.name)?r=new O.auth.GoogleAuthProvider:"github"===t&&(r=new O.auth.GithubAuthProvider),n.next=4,g.signInWithPopup(r);case 4:n.sent;case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsxs)(G,{children:[Object(k.jsx)(E.f,{className:"icon_twitter",size:"5ex"}),Object(k.jsx)(I,{}),Object(k.jsxs)("div",{className:"authBtns",children:[Object(k.jsxs)("button",{name:"google",onClick:n,className:"authBtn",children:["Continue with Google ",Object(k.jsx)(L.a,{})]}),Object(k.jsxs)("button",{name:"github",onClick:n,className:"authBtn",children:["Continue with Github ",Object(k.jsx)(E.a,{})]})]}),Object(k.jsx)(R,{})]})},Y=y.b.div(D||(D=Object(s.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 320px;\n    margin-bottom: 2.5rem;\n    padding: 2rem;\n    border-radius: 10px;\n    background-color: #fff;\n    color: rgba(0, 0, 0, 0.8);\n    .container {\n        width: 100%;\n        max-width: 320px;\n        display: flex;\n        flex-direction: column;\n        .formInput {\n            width: 100%;\n            padding: 1rem 2rem;\n            border-radius: 20px;\n            border: 1px solid #000;\n            text-align: center;\n            background-color: #fff;\n            color: #000;\n        }\n        \n    }\n    .formBtn {\n        cursor: pointer;\n        width: 100%;\n        padding: 0.7rem 2rem;\n        text-align: center;\n        border-radius: 20px;\n        background-color: #04aaff;\n        color: #fff;\n        margin-top: 1rem;\n    }\n    .cancelBtn {\n        background-color: tomato;\n    }\n    .sweet_name {\n        position: absolute;\n        top: 3px;\n        left: 2rem;\n        color: #04aaff;\n        font-size: 1rem;\n    }\n    img {\n        position: absolute;\n        right: -10px;\n        top: 20px;\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        margin-top: 1rem;\n    }\n    .sweet_actions {\n        position: absolute;\n        right: 10px;\n        top: 10px;\n        span {\n            cursor: pointer;\n            margin-left: 1rem;\n        }\n    }\n"]))),J=function(n){var e=n.id,t=n.text,a=n.attachmentUrl,c=n.createdAt,i=n.isOwner,s=(n.userObj,Object(r.useState)(!1)),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(r.useState)(t),f=Object(o.a)(j,2),x=f[0],m=f[1],h=new Date(c),O=h.getFullYear(),g=h.getMonth()+1,y=h.getDate(),N=("".concat(O,".").concat(g,".").concat(y),function(){var n=Object(b.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){n.next=7;break}return n.next=4,w.doc("sweets/".concat(e)).delete();case 4:if(""===a){n.next=7;break}return n.next=7,v.refFromURL(a).delete();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()),I=function(){return d(!u)},S=function(){var n=Object(b.a)(p.a.mark((function n(t){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,w.doc("sweets/".concat(e)).update({text:x});case 3:d(!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsx)(Y,{children:u?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("form",{onSubmit:S,className:"container sweetEdit",children:[Object(k.jsx)("input",{type:"text",required:!0,value:x,onChange:function(n){var e=n.target.value;m(e)},placeholder:"Edit your sweet",autoFocus:!0,className:"formInput"}),Object(k.jsx)("input",{type:"submit",value:"Update Sweet",className:"formBtn"})]}),Object(k.jsx)("button",{onClick:I,className:"formBtn cancelBtn",children:"Cancel"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h4",{children:t}),a&&Object(k.jsx)("img",{src:a}),i&&Object(k.jsxs)("div",{className:"sweet_actions",children:[Object(k.jsx)("span",{onClick:N,children:Object(k.jsx)(E.e,{})}),Object(k.jsx)("span",{onClick:I,children:Object(k.jsx)(E.b,{})})]})]})})},T=t(110),H=y.b.form(_||(_=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    .factoryInput_container {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-wrap: wrap;\n        position: relative;\n        margin-bottom: 2rem;\n        width: 100%;\n        .factoryInput_input {\n            flex-grow: 1;\n            height: 40px;\n            padding: 0 2rem;\n            color: #fff;\n            border: 1px solid #04aaff;\n            border-radius: 20px;\n            font-weight: 500;\n            font-size: 1.2rem;\n        }\n        .factoryInput_arrow {\n            position: absolute;\n            right: 0;\n            background-color: #04aaff;\n            height: 40px;\n            width: 40px;\n            padding: 1rem 0;\n            text-align: center;\n            border-radius: 20px;\n            color: #fff;\n            cursor: pointer;\n        }\n    }\n    .factory_label {\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: #04aaff;\n        cursor: pointer;\n        transition: color .4s;\n        span {\n            padding: 0 1rem;\n        }\n        &:hover {\n            color: tomato;\n        }\n    }\n    .factoryFrom_attachment {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        img {\n            height: 80px;\n            width: 80px;\n            border-radius: 40px;\n        }\n        .factoryForm_clear {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: #04aaff;\n            cursor: pointer;\n            text-align: center;\n            margin: 1rem 0;\n            transition: color .4s;\n            span {\n                font-size: 1.4rem;\n                padding: 0 1rem;\n            }\n            &:hover {\n                color: tomato;\n            }\n        }\n    }\n"]))),K=function(n){var e=n.userObj,t=Object(r.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),l=Object(o.a)(s,2),u=l[0],d=l[1],j=function(){var n=Object(b.a)(p.a.mark((function n(t){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==c){n.next=3;break}return n.abrupt("return");case 3:if(r="",""===u){n.next=12;break}return a=v.ref().child("".concat(e.uid,"/").concat(Object(T.a)())),n.next=8,a.putString(u,"data_url");case 8:return o=n.sent,n.next=11,o.ref.getDownloadURL();case 11:r=n.sent;case 12:return n.next=14,w.collection("sweets").add({text:c,createdAt:Date.now(),creatorId:e.uid,attachmentUrl:r});case 14:i(""),d("");case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsxs)(H,{onSubmit:j,children:[Object(k.jsxs)("div",{className:"factoryInput_container",children:[Object(k.jsx)("input",{type:"text",placeholder:"What's on your mind?",maxLength:120,value:c,onChange:function(n){var e=n.target.value;i(e)},className:"factoryInput_input"}),Object(k.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput_arrow"})]}),Object(k.jsxs)("label",{htmlFor:"attach-file",className:"factory_label",children:[Object(k.jsx)("span",{children:"Add photos"}),Object(k.jsx)(E.c,{})]}),Object(k.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(n){var e=n.target.files[0],t=new FileReader;t.onloadend=function(n){var e=n.currentTarget.result;d(e)},Boolean(e)&&t.readAsDataURL(e)},style:{opacity:0}}),u&&Object(k.jsxs)("div",{className:"factoryFrom_attachment",children:[Object(k.jsx)("img",{src:u,style:{backgroundImage:u}}),Object(k.jsxs)("div",{className:"factoryForm_clear",onClick:function(){return d("")},children:[Object(k.jsx)("span",{children:"Remove"}),Object(k.jsx)(E.d,{})]})]})]})},V=y.b.div(B||(B=Object(s.a)(["\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n"]))),Z=function(n){var e=n.userObj,t=Object(r.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){w.collection("sweets").orderBy("createdAt","desc").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(f.a)({id:n.id},n.data())}));i(e)}))}),[]),Object(k.jsxs)(V,{children:[Object(k.jsx)(K,{userObj:e}),Object(k.jsx)("div",{children:c.map((function(n){return Object(k.jsx)(J,Object(f.a)(Object(f.a)({},n),{},{isOwner:n.creatorId===e.uid,userObj:e}),n.id)}))}),Object(k.jsx)(R,{})]})},q=y.b.div(A||(A=Object(s.a)(["\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n    .profileFrom {\n        width: 100%;\n        display: flex;\n        flex-direction: column; \n        border-bottom: 1px solid rgba(255, 255, 255, 0.9);\n        padding-bottom: 3rem;\n        margin-bottom: 3rem; \n    }\n    .formInput {\n        width: 100%;\n        padding: 10px 20px;\n        border-radius: 20px;\n        border: 1px solid black;\n        text-align: center;\n        background-color: white;\n        color: black;\n    }\n    .formBtn {\n        cursor: pointer;\n        width: 100%;\n        padding: 7px 20px;\n        text-align: center;\n        color: white;\n        border-radius: 20px;\n        background-color: #04aaff;\n        margin-top : 1rem;\n    }\n    .logOut {\n        margin-top: 5rem;\n        background-color: tomato;\n    }\n"]))),M=function(n){var e=n.userObj,t=n.refreshUser,a=Object(u.f)(),c=Object(r.useState)(e.displayName),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(r.useState)([]),j=Object(o.a)(d,2),x=j[0],m=j[1],h=function(){var n=Object(b.a)(p.a.mark((function n(){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.collection("sweets").where("creatorId","==",e.uid).orderBy("createdAt","asc").get();case 2:t=n.sent,m(t.docs.map((function(n){return n.data()})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){h()}),[]);var O=function(){var n=Object(b.a)(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),e.displayName===s){n.next=5;break}return n.next=4,e.updateProfile({displayName:s});case 4:t();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsxs)(q,{children:[Object(k.jsxs)("form",{onSubmit:O,className:"profileFrom",children:[Object(k.jsx)("input",{type:"text",placeholder:"Dsplay name",value:s,onChange:function(n){var e=n.target.value;l(e)},autoFocus:!0,className:"formInput"}),Object(k.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn"})]}),Object(k.jsx)("ul",{children:x.map((function(n,t){return Object(k.jsx)(J,Object(f.a)(Object(f.a)({},n),{},{userObj:e}),t)}))}),Object(k.jsx)("span",{className:"formBtn logOut",onClick:function(){g.signOut(),a.push("/")},children:"Log Out"})]})},Q=y.b.nav(z||(z=Object(s.a)(["\n    ul {\n        display: flex;\n        justify-content: center;\n        margin-top: 5rem;\n        .nav_home {\n            margin-right: 1rem;\n        }\n        .icon {\n            color: #04AAFF;\n        }\n        .nav_progile {\n            margin-left: 1rem;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            font-size: 1.2rem;\n            span {\n                margin-top: 1rem;\n            }\n        }\n    }\n"]))),X=function(n){var e=n.userObj;return Object(k.jsx)(Q,{children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{to:"/",className:"nav_home",children:Object(k.jsx)(E.f,{className:"icon",size:"5ex"})})}),Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/profile",className:"nav_progile",children:[Object(k.jsx)(E.g,{className:"icon",size:"5ex"}),Object(k.jsx)("span",{children:e.displayName?"".concat(e.displayName,"\uc758 Profile"):"Profile"})]})})]})})},$=y.b.div(P||(P=Object(s.a)(["\n    max-width: 890px;\n    width: 100%;\n    margin: 0 auto;\n    margin-top: 8rem;\n    display: flex;\n    justify-content: center;\n"]))),nn=function(n){var e=n.isLoggedIn,t=n.userObj,r=n.refreshUser;return Object(k.jsxs)(l.a,{children:[e&&Object(k.jsx)(X,{userObj:t}),Object(k.jsx)(u.c,{children:e?Object(k.jsxs)($,{children:[Object(k.jsx)(u.a,{exact:!0,path:"/",children:Object(k.jsx)(Z,{userObj:t})}),Object(k.jsx)(u.a,{exact:!0,path:"/profile",children:Object(k.jsx)(M,{userObj:t,refreshUser:r})})]}):Object(k.jsx)(u.a,{exact:!0,path:"/",children:Object(k.jsx)(W,{})})})]})};var en,tn=function(){var n=Object(r.useState)(!1),e=Object(o.a)(n,2),t=e[0],a=e[1],c=Object(r.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(r.useEffect)((function(){g.onAuthStateChanged((function(n){l(!!n&&{uid:n.uid,displayName:n.displayName,updateProfile:function(e){return n.updateProfile(e)}}),a(!0)}))}),[]),Object(k.jsx)(k.Fragment,{children:t?Object(k.jsx)(nn,{isLoggedIn:Boolean(s),userObj:s,refreshUser:function(){var n=g.currentUser;l({uid:n.uid,displayName:n.displayName,updateProfile:function(e){return n.updateProfile(e)}})}}):"initializing"})},rn=Object(y.a)(en||(en=Object(s.a)(['\n    *{\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n    }\n    html {\n        font-size: 10px;\n    }\n    body {\n        background-color: black;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n            Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n        font-size: 14px;\n        color: white;\n    }\n    ul,li{\n        list-style: none;\n    }\n    a{\n        text-decoration: none;\n        color: inherit;\n    }\n    input {\n        all: unset;\n        box-sizing: border-box;\n        appearance: none;\n    }\n    button{\n        outline: none;\n        background-color: white;\n        color: black;\n        border: none;\n    }\n    form {\n        width: 100%;\n    }\n'])));i.a.render(Object(k.jsxs)(a.a.StrictMode,{children:[Object(k.jsx)(rn,{}),Object(k.jsx)(tn,{})]}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.b402a9ec.chunk.js.map