(this.webpackJsonpswitter=this.webpackJsonpswitter||[]).push([[0],{73:function(n,e,t){"use strict";t.r(e);var r=t(7),a=t.n(r),c=t(54),i=t.n(c),o=t(15),s=t(21),l=t(38),u=t(17),d=t(1),p=t.n(d),b=t(2),j=t(5),x=t(34),f=t(39);t(66),t(75),t(74);f.a.initializeApp({apiKey:"AIzaSyCcb6LsTQlAFVHdXeRxCdEtlKi-rK0xTOI",authDomain:"nwitter-d58bf.firebaseapp.com",projectId:"nwitter-d58bf",storageBucket:"nwitter-d58bf.appspot.com",messagingSenderId:"154796609265",appId:"1:154796609265:web:53a166a5b7713f66dc6350"});var m,h,O,g,w,v,y,k,N=f.a,I=f.a.auth(),S=f.a.firestore(),C=f.a.storage(),_=t(22),F=t(9),A=_.b.div(m||(m=Object(s.a)(["\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n    .authInput {\n        max-width: 320px;\n        width: 100%;\n        padding: 10px;\n        border-radius: 30px;\n        background-color: rgba(255, 255, 255, 1);\n        margin-bottom: 10px;\n        font-size: 12px;\n        color: black; \n        &:placeholder {\n            color: white;\n            opacity: 0.9;\n        }\n    }\n    .authSubmit {\n        text-align: center;\n        background: #04aaff;\n        color: white;\n        margin-top: 10;\n        cursor: pointer;\n    }\n    .authError {\n        color: tomato;\n        text-align: center;\n        font-weight: 500;\n        font-size: 12px;\n    }\n    .authSwitch {\n        color: #04aaff;\n        cursor: pointer;\n        margin-top: 10px;\n        margin-bottom: 50px;\n        display: block;\n        font-size: 12px;\n        text-decoration: underline;\n        text-align: center;\n    }\n"]))),B=function(){var n=Object(r.useState)({email:"",password:""}),e=Object(o.a)(n,2),t=e[0],a=e[1],c=t.email,i=t.password,s=Object(r.useState)(!0),l=Object(o.a)(s,2),u=l[0],d=l[1],f=Object(r.useState)(""),m=Object(o.a)(f,2),h=m[0],O=m[1],g=function(n){var e=n.target,r=e.value,c=e.name;a(Object(x.a)(Object(x.a)({},t),{},Object(j.a)({},c,r)))},w=function(){var n=Object(b.a)(p.a.mark((function n(e){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),n.prev=1,!u){n.next=8;break}return n.next=5,I.createUserWithEmailAndPassword(c,i);case 5:n.sent,n.next=11;break;case 8:return n.next=10,I.signInWithEmailAndPassword(c,i);case 10:n.sent;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),O(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}();return Object(F.jsxs)(A,{children:[Object(F.jsxs)("form",{onSubmit:w,children:[Object(F.jsx)("input",{type:"email",name:"email",placeholder:"email",required:!0,value:c,onChange:g,className:"authInput"}),Object(F.jsx)("input",{type:"password",name:"password",placeholder:"password",required:!0,value:i,onChange:g,className:"authInput"}),Object(F.jsx)("input",{type:"submit",value:u?"Create Account":"Log In",className:"authInput authSubmit"}),h&&Object(F.jsx)("span",{className:"authError",children:h})]}),Object(F.jsx)("span",{onClick:function(){d(!u)},className:"authSwitch",children:u?"Sign In":"Create Account"})]})},z=t(31),U=t(58),P=_.b.div(h||(h=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    .icon_twitter {\n        margin-bottom: 3rem;\n        color: #04AAFF;\n    }\n    .authBtns {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        max-width: 320px;\n        .authBtn {\n            cursor: pointer;\n            border-radius: 20px;\n            border: none;\n            padding: 10px 0px;\n            font-size: 12px;\n            text-align: center;\n            width: 150px;\n            background: white;\n            cursor: pointer; \n            svg {\n                margin-bottom: -2px;\n            }\n        }\n    }\n"]))),D=function(){var n=function(){var n=Object(b.a)(p.a.mark((function n(e){var t,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"google"===(t=e.target.name)?r=new N.auth.GoogleAuthProvider:"github"===t&&(r=new N.auth.GithubAuthProvider),n.next=4,I.signInWithPopup(r);case 4:n.sent;case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(F.jsxs)(P,{children:[Object(F.jsx)(z.f,{className:"icon_twitter",size:"5ex"}),Object(F.jsx)(B,{}),Object(F.jsxs)("div",{className:"authBtns",children:[Object(F.jsxs)("button",{name:"google",onClick:n,className:"authBtn",children:["Continue with Google ",Object(F.jsx)(U.a,{})]}),Object(F.jsxs)("button",{name:"github",onClick:n,className:"authBtn",children:["Continue with Github ",Object(F.jsx)(z.a,{})]})]})]})},E=_.b.div(O||(O=Object(s.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 320px;\n    margin-bottom: 2.5rem;\n    padding: 2rem;\n    border-radius: 10px;\n    background-color: #fff;\n    color: rgba(0, 0, 0, 0.8);\n    .container {\n        width: 100%;\n        max-width: 320px;\n        display: flex;\n        flex-direction: column;\n        .formInput {\n            width: 100%;\n            padding: 1rem 2rem;\n            border-radius: 20px;\n            border: 1px solid #000;\n            text-align: center;\n            background-color: #fff;\n            color: #000;\n        }\n        \n    }\n    .formBtn {\n        cursor: pointer;\n        width: 100%;\n        padding: 0.7rem 2rem;\n        text-align: center;\n        border-radius: 20px;\n        background-color: #04aaff;\n        color: #fff;\n        margin-top: 1rem;\n    }\n    .cancelBtn {\n        background-color: tomato;\n    }\n    .sweet_name {\n        position: absolute;\n        top: 3px;\n        left: 2rem;\n        color: #04aaff;\n        font-size: 1rem;\n    }\n    img {\n        position: absolute;\n        right: -10px;\n        top: 20px;\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        margin-top: 1rem;\n    }\n    .sweet_actions {\n        position: absolute;\n        right: 10px;\n        top: 10px;\n        span {\n            cursor: pointer;\n            margin-left: 1rem;\n        }\n    }\n"]))),L=function(n){var e=n.id,t=n.text,a=n.attachmentUrl,c=n.createdAt,i=n.isOwner,s=n.userObj,l=Object(r.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],x=Object(r.useState)(t),f=Object(o.a)(x,2),m=f[0],h=f[1],O=new Date(c),g=O.getFullYear(),w=O.getMonth()+1,v=O.getDate(),y="".concat(g,".").concat(w,".").concat(v),k=function(){var n=Object(b.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){n.next=7;break}return n.next=4,S.doc("sweets/".concat(e)).delete();case 4:if(""===a){n.next=7;break}return n.next=7,C.refFromURL(a).delete();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),N=function(){return j(!d)},I=function(){var n=Object(b.a)(p.a.mark((function n(t){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,S.doc("sweets/".concat(e)).update({text:m});case 3:j(!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(F.jsx)(E,{children:d?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("form",{onSubmit:I,className:"container sweetEdit",children:[Object(F.jsx)("input",{type:"text",required:!0,value:m,onChange:function(n){var e=n.target.value;h(e)},placeholder:"Edit your sweet",autoFocus:!0,className:"formInput"}),Object(F.jsx)("input",{type:"submit",value:"Update Sweet",className:"formBtn"})]}),Object(F.jsx)("button",{onClick:N,className:"formBtn cancelBtn",children:"Cancel"})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("span",{className:"sweet_name",children:[s.displayName," ",y]}),Object(F.jsx)("h4",{children:t}),a&&Object(F.jsx)("img",{src:a}),i&&Object(F.jsxs)("div",{className:"sweet_actions",children:[Object(F.jsx)("span",{onClick:k,children:Object(F.jsx)(z.e,{})}),Object(F.jsx)("span",{onClick:N,children:Object(F.jsx)(z.b,{})})]})]})})},R=t(77),G=_.b.form(g||(g=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    .factoryInput_container {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-wrap: wrap;\n        position: relative;\n        margin-bottom: 2rem;\n        width: 100%;\n        .factoryInput_input {\n            flex-grow: 1;\n            height: 40px;\n            padding: 0 2rem;\n            color: #fff;\n            border: 1px solid #04aaff;\n            border-radius: 20px;\n            font-weight: 500;\n            font-size: 1.2rem;\n        }\n        .factoryInput_arrow {\n            position: absolute;\n            right: 0;\n            background-color: #04aaff;\n            height: 40px;\n            width: 40px;\n            padding: 1rem 0;\n            text-align: center;\n            border-radius: 20px;\n            color: #fff;\n            cursor: pointer;\n        }\n    }\n    .factory_label {\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: #04aaff;\n        cursor: pointer;\n        transition: color .4s;\n        span {\n            padding: 0 1rem;\n        }\n        &:hover {\n            color: tomato;\n        }\n    }\n    .factoryFrom_attachment {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        img {\n            height: 80px;\n            width: 80px;\n            border-radius: 40px;\n        }\n        .factoryForm_clear {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: #04aaff;\n            cursor: pointer;\n            text-align: center;\n            margin: 1rem 0;\n            transition: color .4s;\n            span {\n                font-size: 1.4rem;\n                padding: 0 1rem;\n            }\n            &:hover {\n                color: tomato;\n            }\n        }\n    }\n"]))),W=function(n){var e=n.userObj,t=Object(r.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),l=Object(o.a)(s,2),u=l[0],d=l[1],j=function(){var n=Object(b.a)(p.a.mark((function n(t){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==c){n.next=3;break}return n.abrupt("return");case 3:if(r="",""===u){n.next=12;break}return a=C.ref().child("".concat(e.uid,"/").concat(Object(R.a)())),n.next=8,a.putString(u,"data_url");case 8:return o=n.sent,n.next=11,o.ref.getDownloadURL();case 11:r=n.sent;case 12:return n.next=14,S.collection("sweets").add({text:c,createdAt:Date.now(),creatorId:e.uid,attachmentUrl:r});case 14:i(""),d("");case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(F.jsxs)(G,{onSubmit:j,children:[Object(F.jsxs)("div",{className:"factoryInput_container",children:[Object(F.jsx)("input",{type:"text",placeholder:"What's on your mind?",maxLength:120,value:c,onChange:function(n){var e=n.target.value;i(e)},className:"factoryInput_input"}),Object(F.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput_arrow"})]}),Object(F.jsxs)("label",{htmlFor:"attach-file",className:"factory_label",children:[Object(F.jsx)("span",{children:"Add photos"}),Object(F.jsx)(z.c,{})]}),Object(F.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(n){var e=n.target.files[0],t=new FileReader;t.onloadend=function(n){var e=n.currentTarget.result;d(e)},Boolean(e)&&t.readAsDataURL(e)},style:{opacity:0}}),u&&Object(F.jsxs)("div",{className:"factoryFrom_attachment",children:[Object(F.jsx)("img",{src:u,style:{backgroundImage:u}}),Object(F.jsxs)("div",{className:"factoryForm_clear",onClick:function(){return d("")},children:[Object(F.jsx)("span",{children:"Remove"}),Object(F.jsx)(z.d,{})]})]})]})},q=_.b.div(w||(w=Object(s.a)(["\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n"]))),K=function(n){var e=n.userObj,t=Object(r.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){S.collection("sweets").orderBy("createdAt","desc").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(x.a)({id:n.id},n.data())}));i(e)}))}),[]),Object(F.jsxs)(q,{children:[Object(F.jsx)(W,{userObj:e}),Object(F.jsx)("div",{children:c.map((function(n){return Object(F.jsx)(L,Object(x.a)(Object(x.a)({},n),{},{isOwner:n.creatorId===e.uid,userObj:e}),n.id)}))})]})},M=_.b.div(v||(v=Object(s.a)(["\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n    .profileFrom {\n        width: 100%;\n        display: flex;\n        flex-direction: column; \n        border-bottom: 1px solid rgba(255, 255, 255, 0.9);\n        padding-bottom: 30px; \n    }\n    .formInput {\n        width: 100%;\n        padding: 10px 20px;\n        border-radius: 20px;\n        border: 1px solid black;\n        text-align: center;\n        background-color: white;\n        color: black;\n    }\n    .formBtn {\n        cursor: pointer;\n        width: 100%;\n        padding: 7px 20px;\n        text-align: center;\n        color: white;\n        border-radius: 20px;\n        background-color: #04aaff;\n        margin-top : 1rem;\n    }\n    .logOut {\n        margin-top: 5rem;\n        background-color: tomato;\n    }\n"]))),T=function(n){var e=n.userObj,t=n.refreshUser,a=Object(u.f)(),c=Object(r.useState)(e.displayName),i=Object(o.a)(c,2),s=i[0],l=i[1],d=function(){var n=Object(b.a)(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),e.displayName===s){n.next=5;break}return n.next=4,e.updateProfile({displayName:s});case 4:t();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(F.jsxs)(M,{children:[Object(F.jsxs)("form",{onSubmit:d,className:"profileFrom",children:[Object(F.jsx)("input",{type:"text",placeholder:"Dsplay name",value:s,onChange:function(n){var e=n.target.value;l(e)},autoFocus:!0,className:"formInput"}),Object(F.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn"})]}),Object(F.jsx)("span",{className:"formBtn logOut",onClick:function(){I.signOut(),a.push("/")},children:"Log Out"})]})},H=_.b.nav(y||(y=Object(s.a)(["\n    ul {\n        display: flex;\n        justify-content: center;\n        margin-top: 5rem;\n        .nav_home {\n            margin-right: 1rem;\n        }\n        .icon {\n            color: #04AAFF;\n        }\n        .nav_progile {\n            margin-left: 1rem;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            font-size: 1.2rem;\n            span {\n                margin-top: 1rem;\n            }\n        }\n    }\n"]))),J=function(n){var e=n.userObj;return Object(F.jsx)(H,{children:Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:Object(F.jsx)(l.b,{to:"/",className:"nav_home",children:Object(F.jsx)(z.f,{className:"icon",size:"5ex"})})}),Object(F.jsx)("li",{children:Object(F.jsxs)(l.b,{to:"/profile",className:"nav_progile",children:[Object(F.jsx)(z.g,{className:"icon",size:"5ex"}),Object(F.jsx)("span",{children:e.displayName?"".concat(e.displayName,"\uc758 Profile"):"Profile"})]})})]})})},Q=_.b.div(k||(k=Object(s.a)(["\n    max-width: 890px;\n    width: 100%;\n    margin: 0 auto;\n    margin-top: 8rem;\n    display: flex;\n    justify-content: center;\n"]))),V=function(n){var e=n.isLoggedIn,t=n.userObj,r=n.refreshUser;return Object(F.jsxs)(l.a,{children:[e&&Object(F.jsx)(J,{userObj:t}),Object(F.jsx)(u.c,{children:e?Object(F.jsxs)(Q,{children:[Object(F.jsx)(u.a,{exact:!0,path:"/",children:Object(F.jsx)(K,{userObj:t})}),Object(F.jsx)(u.a,{exact:!0,path:"/profile",children:Object(F.jsx)(T,{userObj:t,refreshUser:r})})]}):Object(F.jsx)(u.a,{exact:!0,path:"/",children:Object(F.jsx)(D,{})})})]})};var X,Y=function(){var n=Object(r.useState)(!1),e=Object(o.a)(n,2),t=e[0],a=e[1],c=Object(r.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(r.useEffect)((function(){I.onAuthStateChanged((function(n){l(!!n&&{uid:n.uid,displayName:n.displayName,updateProfile:function(e){return n.updateProfile(e)}}),a(!0)}))}),[]),Object(F.jsx)(F.Fragment,{children:t?Object(F.jsx)(V,{isLoggedIn:Boolean(s),userObj:s,refreshUser:function(){var n=I.currentUser;l({uid:n.uid,displayName:n.displayName,updateProfile:function(e){return n.updateProfile(e)}})}}):"initializing"})},Z=Object(_.a)(X||(X=Object(s.a)(['\n    *{\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n    }\n    html {\n        font-size: 10px;\n    }\n    body {\n        background-color: black;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n            Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n        font-size: 14px;\n        color: white;\n    }\n    ul,li{\n        list-style: none;\n    }\n    a{\n        text-decoration: none;\n        color: inherit;\n    }\n    input {\n        all: unset;\n        box-sizing: border-box;\n        appearance: none;\n    }\n    button{\n        outline: none;\n        background-color: white;\n        color: black;\n        border: none;\n    }\n    form {\n        width: 100%;\n    }\n'])));i.a.render(Object(F.jsxs)(a.a.StrictMode,{children:[Object(F.jsx)(Z,{}),Object(F.jsx)(Y,{})]}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.bdcf57ce.chunk.js.map